#**Работа с файлове**

**Задача 1**

Направете копие на файла **/etc/passwd** във вашата home директория под името
my_passwd.
```
. cp /etc/passwd](../../etc/passwd) \~/my_passwd
```
**Задача 2**

Направете директория **practice-test** в home директорията ви. Вътре направете
директория **test1**. Можете ли да направите тези две неща наведнъж? Разгледайте
нужната man страница. След това създайте празен файл вътре, който да се казва
**test.txt**, преместете го в practice-test чрез релативни пътища.

mkdir -p practice-test/test1  
touch test.txt  
mv test.txt ../

**Задача 3**

Копирайте файловете **f1, f2, f3** от директорията **/tmp/os2018/practice/01/**
в директория **dir1**, намираща се във вашата home директория. Ако нямате
такава, създайте я.

.mkdir -p [/tmp/os2018/practice/01](../../tmp/os2018/practice/01) cd
tmp/os2018/practice/01  
touch f{1..3}  
mkdir dir1  
cp tmp/os2018/practice/01/f{1..3} \~/dir1

**Задача 4**

Нека файлът **f2** бъде преместен в директория **dir2**, намираща се във вашата
home директория и бъде преименуван на numbers.

mkdir \~/dir2  
mv \~/dir1/f2 \~/dir2/numbers

**Задача 5**

Отпечатайте имената на **всички директории** в директорията **/home.**

ls -d \*/

**Задача 6**

Създайте **symlink** на файла **/etc/passwd** в home директорията ви (да се
казва например passwd_symlink).

ln -s [/etc/passwd](../../etc/passwd) \~/passwd_symlink

**Задача 7**

Създайте файл **permissions.txt** в home директорията си. За него дайте
единствено - read права на потребителя създал файла, write and exec на групата,
read and exec на всички останали. Направете го и с битове, и чрез "буквички".

touch \~/permissions.txt  
chmod u=r,g=wx,o=rx \~/permissions.txt

chmod 435 \~/permissions.txt

**Задача 8**

За да намерите какво сте правили днес: намерете всички файлове в home
директорията ви, които са променени от вас в последния 1 час.

find -type f -mmin -60

**Задача 9**

Копирайте **secret.txt** от **/tmp/os2018/02/** в home директорията си.
Прочетете го с командата cat. (Ако този файл го няма, прочетете с cat произволен
текстов файл напр. /etc/passwd)

cp \~/os2018/02/secret.txt \~/

**Задача 10**

Изведете всички обикновени ("regular") файлове, които **/etc** и нейните преки
поддиректории съдържат

find /etc -maxdepth 1 -type f

**Задача 11**

Създайте файл, който да съдържа само първите 5 реда от изхода на *задача 10*

find /etc -maxdepth 1 -type f \| head -n 5 \> firstFiveRow.txt

**Задача 12**

Изведете всички обикновени ("regular") файлове, които само преките поддиректории
на **/etc** съдържат

find /etc -maxdepth 2 -type f

**Задача 13**

Изведете всички преки поддиректории на **/etc**

find /etc -maxdepth 1 -type d

**Задача 14**

Създайте файл, който да съдържа само последните 10 реда от изхода на *задача 13*

find /etc -maxdepth 1 -type d \| tail \> lastTenRows.txt

**Задача 15**

Изведете обикновените файлове по-големи от 42 байта в home директорията ви

find \~/ -type f -size +42c

**Задача 16**

Изведете всички обикновени файлове в директорията SI които са от групата
**students**

find\~/SI -type f -group students

**Задача 17**

Изведете всички обикновени файлове в директорията SI които са от групата
**student**, които имат write права за достъп за група или за останалите(o=w) //
ако в свободното си време искате да пишете по файлове на други хора

find\~/SI -type f -group students -perm -g=w -or -o=w

**Задача 18**

Изведете всички файлове, които са по-нови от създадения файл в *задача 11*

find \~/SI -type f -newer firstFiveRow.txt

**Задача 19**

Изтрийте файловете в home директорията си по-нови от създаденият в *задача 11*
файл (подайте на rm опция -i за да може да изберете само тези които искате да
изтриете)

find \~/SI -type f -newer firstFiveRow.txt -exec rm -i "{}" \\;

**Задача 20**

Намерете файловете в **/bin**, които могат да се четат, пишат и изпълняват от
всички.

find /bin -perm -a=rwx

**Задача 21**

Копирайте всички файлове от **/bin**, които могат да се четат, пишат и
изпълняват от всички, в bin2 директория в home директорията ви. Направете
такава, ако нямате.

mkdir \~/bin2find /bin -perm -o=rwx -exec cp '{}' \~/bin2 \\;

**Задача 22**

от предната задача: когато вече сте получили **home/../../bin2** с команди,
архивирайте всички команди вътре, които започват с b в архив, който се казва
b_start.tar. (командата, която архивира е tar -c -f \<файл1\> \<файл2\>...)

cd \~/bin2/  
tar -c -f \~/b_start.tar b\*

**Задача 23**

Използвайки едно извикване на командата find, отпечатайте броя на редовете във
всеки обикновен файл в **/home** директорията.

find [/bin/](../../bin/) -type f -exec wc -l '{}' \\;find[/bin/](../../bin/)
-type f -exec cat '{}' \\; \| wc -l

**Задача 24**

Копирайте най-големия файл от тези, намиращи се в **/tmp/os2018/02/bytes/**, в
home директорията си.

cp \$(ls -l\|tr -s ' '\| sort -t' ' -k5 -n\|tail -n1\|cut -d' ' -f9) \~/
